<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Papan Peringkat</title>
  <link rel="stylesheet" href="../css/guru/peringkat.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">
</head>
<body>

  <div class="containerHero">
    <div class="logo"> 
      <div class="logoWrapper">
        <img class="logoPicture" src="../assets/eye (2).png" alt="Logo">
      </div>
      <p class="textLogo">Tibby</p>
    </div>
  </div>

  <!-- Sidebar kecil -->
  <div id="sidebar" class="sidebar show">
    <div class="iconMini" id="berandaColor">
      <img class="berandaIconClick" src="../assets/home (2).png" alt="">
      <span class="tooltip">Beranda</span>
    </div>
  
    <div class="iconMini" id="peringkatColor">
      <img class="peringkatIcon" src="../assets/apps-sort (3).png" alt="">
      <span class="tooltip">Papan Peringkat</span>
    </div>
  
    <div class="iconMini" id="kelasColor">
      <img class="classIcon" src="../assets/chalkboard-user (2).png" alt="">
      <span class="tooltip">Kelas</span>
    </div>
  
    <div class="iconMini" id="profileColor">
      <img class="profileIcon" src="../assets/user (2).png" alt="">
      <span class="tooltip">Profil</span>
    </div>
  </div>
 
  <!-- main-cntainer -->
  <div id="toast-container"></div>

  <div class="container">
    <div class="kelas-header">
      <h2 id="judulPeringkat">Peringkat Pelanggaran</h2>
      <span id="namaKelas" class="subjudul-kelas"></span>
    </div>

    <!-- Tabel Peringkat -->
    <table id="tabelPeringkat"> 
      <thead> 
        <tr>
          <th class="no-cell">No</th>
          <th class="foto-cell">Foto Profil</th>
          <th class="nisn-cell">NISN</th>
          <th class="nama-cell">Nama Siswa</th>
          <th class="total-cell">Total Poin</th>
          <th class="aksi-cell">Aksi</th>
        </tr>
      </thead>
      <tbody id="tbodyPeringkat">
        <!-- Data siswa dari JS -->
      </tbody> 
    </table>
  </div>

  <!-- Modal Detail Pelanggaran -->
  <div id="modalDetail" class="modal" style="display: none;">
    <div class="modal-content">
      <span class="closeBtn">&times;</span>
      <h2 class="judul-riwayat">Riwayat Pelanggaran</h2>
      <div id="listPelanggaran">
        <!-- Pelanggaran siswa akan muncul di sini -->
      </div> 
    </div>
  </div>

  <div id="confirmModal" class="custom-modal">
    <div class="custom-modal-box">
      <p id="confirmMessage">Apakah Anda yakin?</p>
      <div class="custom-modal-buttons">
        <button id="confirmYes" class="btn-yes">Ya</button>
        <button id="confirmNo" class="btn-no">Batal</button>
      </div>
    </div>
  </div>

  <div id="messageModal" class="custom-modal">
    <div class="custom-modal-box">
      <button
        class="close-modal-btn"
        onclick="
          document.getElementById('messageModal').style.display='none';
          location.reload();
        "
      >
        &times;
      </button>
      <p id="messageModalTitle">Kirim pesan kepada:</p>
  
      <div id="mainOptions" class="custom-modal-buttons">
        <button id="btnOrangtua" class="btn-yes">Orangtua siswa</button>
        <button id="btnBK" class="btn-no">Guru BK</button>
      </div>
    

      <!-- Form kirim pesan ke orangtua -->
      <div id="formPesan" style="display: none; flex-direction: column; gap: 10px;">
        <input type="email" id="emailTujuan" placeholder="Email orangtua" style="padding: 8px; border-radius: 5px; border: 1px solid #ccc;">
        <textarea id="isiPesan" placeholder="Tulis pesan..." rows="4" style="padding: 8px; border-radius: 5px; border: 1px solid #ccc;"></textarea>
        <div class="custom-modal-buttons" style="flex-direction: row;">
          <button id="btnKirim" class="btn-yes">Kirim</button>
          <button id="btnBatal" class="btn-no">Batal</button>
        </div>
      </div>

      <div id="toast" style="position: fixed; bottom: 20px; right: 20px; background: #4CAF50; color: white; padding: 12px 20px; border-radius: 8px; display: none; z-index: 9999;"></div>
      <input type="hidden" id="idSiswa" />

    </div>
  </div>
  
  
  <script src="../js/guru/peringkat.js"></script>

</body>
</html>